{"version":3,"file":"static/js/636.aefed611.chunk.js","mappings":"iLAMA,MAgEA,EAhEuBA,KACrB,MAAM,GAAEC,IAAOC,EAAAA,EAAAA,MACRC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,OAC1BC,EAAQC,IAAaF,EAAAA,EAAAA,UAAS,KAC9BG,EAAgBC,IAAqBJ,EAAAA,EAAAA,UAAS,IAC/CK,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,KAERC,EAAAA,EAAMC,IAAI,sCAADC,OAAuCd,IAC7Ce,MAAKC,GAAYb,EAAQa,EAASC,QAClCC,OAAMC,GAASC,QAAQD,MAAM,+BAAgCA,IAAO,GACtE,CAACnB,IAwBJ,OAAKE,GAGHmB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,EACpCF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,2BAAmBrB,EAAKsB,UAAU,IAAEtB,EAAKuB,aAC7CC,EAAAA,EAAAA,KAAA,KAAAH,SAAG,2BACHF,EAAAA,EAAAA,MAAA,UAAQM,SAAWC,GAAMpB,EAAkBoB,EAAEC,OAAOC,OAAQA,MAAOvB,EAAegB,SAAA,EAChFG,EAAAA,EAAAA,KAAA,UAAQI,MAAM,GAAGC,UAAQ,EAAAR,SAAC,2BACzBrB,EAAK8B,QAAQC,KAAIC,IAChBb,EAAAA,EAAAA,MAAA,UAAyBS,MAAOI,EAAOC,IAAIZ,SAAA,CACxCW,EAAOE,eAAe,eAAaF,EAAOG,UADhCH,EAAOC,WAKxBT,EAAAA,EAAAA,KAAA,SACEY,KAAK,SACLC,YAAY,WACZT,MAAOzB,EACPsB,SAAWC,GAAMtB,EAAUsB,EAAEC,OAAOC,UAEtCT,EAAAA,EAAAA,MAAA,OAAKC,UAAU,UAASC,SAAA,EACtBG,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,UAAUkB,QA3CLC,KACtBlC,GAAmBF,EAMxBO,EAAAA,EAAM8B,KAAK,sCAAD5B,OAAuCd,EAAE,YAAY,CAC7D2C,SAAUpC,EACVF,OAAQuC,WAAWvC,KAEpBU,MAAKC,IACJI,QAAQyB,IAAI,oBAAqB7B,EAASC,MAC1C6B,MAAM,sBACNrC,EAAS,aAADK,OAAcd,GAAK,IAE5BkB,OAAMC,IACLC,QAAQD,MAAM,4BAA6BA,GAC3C2B,MAAM,2BAA2B,IAhBjCA,MAAM,8CAiBN,EAwB4DvB,SAAC,2BAC3DG,EAAAA,EAAAA,KAAA,UAAQJ,UAAU,OAAOkB,QAASA,IAAM/B,GAAU,GAAGc,SAAC,kBAtB1CG,EAAAA,EAAAA,KAAA,OAAAH,SAAK,eAwBf,C","sources":["pages/CRM/AddDepositPage.jsx"],"sourcesContent":["// client/src/components/AddDepositPage.jsx\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './AddDepositPage.scss';\r\n\r\nconst AddDepositPage = () => {\r\n  const { id } = useParams(); // Obtiene el ID del usuario de los parámetros de la ruta\r\n  const [user, setUser] = useState(null);\r\n  const [amount, setAmount] = useState('');\r\n  const [selectedWallet, setSelectedWallet] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Fetch user and wallet details from the database\r\n    axios.get(`http://localhost:5000/api/crm/user/${id}`)\r\n      .then(response => setUser(response.data))\r\n      .catch(error => console.error('Error fetching user details:', error));\r\n  }, [id]);\r\n\r\n  const handleConfirmDeposit = () => {\r\n    if (!selectedWallet || !amount) {\r\n      alert('Please select a wallet and enter an amount.');\r\n      return;\r\n    }\r\n\r\n    // Send deposit data to the database\r\n    axios.post(`http://localhost:5000/api/crm/user/${id}/deposit`, {\r\n      walletId: selectedWallet,\r\n      amount: parseFloat(amount)\r\n    })\r\n    .then(response => {\r\n      console.log('Deposito Exitoso:', response.data);\r\n      alert('Deposit successful');\r\n      navigate(`/crm/user/${id}`); // Redirigir de vuelta a la página de detalles del usuario\r\n    })\r\n    .catch(error => {\r\n      console.error('Error processing deposit:', error);\r\n      alert('Error processing deposit');\r\n    });\r\n  };\r\n\r\n  if (!user) return <div>Cargando...</div>;\r\n\r\n  return (\r\n    <div className=\"add-deposit-container\">\r\n      <h1>Añadir Depósito a {user.firstName} {user.lastName}</h1>\r\n      <p>Selecciona la Wallet:</p>\r\n      <select onChange={(e) => setSelectedWallet(e.target.value)} value={selectedWallet}>\r\n        <option value=\"\" disabled>Seleccionar una wallet</option>\r\n        {user.wallets.map(wallet => (\r\n          <option key={wallet._id} value={wallet._id}>\r\n            {wallet.cryptocurrency} - Balance: {wallet.balance}\r\n          </option>\r\n        ))}\r\n      </select>\r\n      <input \r\n        type=\"number\" \r\n        placeholder=\"Cantidad\" \r\n        value={amount} \r\n        onChange={(e) => setAmount(e.target.value)} \r\n      />\r\n      <div className=\"buttons\">\r\n        <button className=\"confirm\" onClick={handleConfirmDeposit}>Confirmar Depósito</button>\r\n        <button className=\"back\" onClick={() => navigate(-1)}>Volver</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddDepositPage;\r\n"],"names":["AddDepositPage","id","useParams","user","setUser","useState","amount","setAmount","selectedWallet","setSelectedWallet","navigate","useNavigate","useEffect","axios","get","concat","then","response","data","catch","error","console","_jsxs","className","children","firstName","lastName","_jsx","onChange","e","target","value","disabled","wallets","map","wallet","_id","cryptocurrency","balance","type","placeholder","onClick","handleConfirmDeposit","post","walletId","parseFloat","log","alert"],"sourceRoot":""}